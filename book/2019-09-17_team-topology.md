# チームトポロジー

## まえがき

> - チームトポロジーでは、コンウェイの法則を踏まえて、ソフトウェア開発組織の設計に取り組む
> - 明確な境界があり、疎結合で、凝集性の高い構造
> - ４つのチームタイプ
>   - ストリームアラインドチーム
>     - 中心となる構造でこの複数のチーム間の依存関係や調整を減らすことが組織の設計
>   - 上記の負荷を減らすチーム
>     - コンプリケイテッド・サブシステムチーム
>     - プラットフォームチーム
>   - 新しい技術の学習・調査を支援するチーム
>     - イネイブリングチーム

## はじめに

> - チームトポロジーは普遍的な公式ではなく、異なる組織での成功例は多くある
> - チームトポロジーの狙いは、明快なパターンを提供することだ。
> - 飛び抜けて優秀なプレイヤー向けの指示書ではなく、さまざまなチームや組織が取り入れたり応用したりできるようなわかりやすいものだ。
> - 一流のソロ奏者向けのメロディではなく、オーケストラを構成するパート譜のようなもの
> - PART1ではコンウェイの法則を掘り下げる
> - PART2では業界で実績のあるパターンを見ていく
> - PART3では組織設計を進化させる方法について扱う

## PART1 デリバリーの手段としてのチーム

> - Chapter1
>   - コンウェイの法則では、ソフトウェアアーキテクチャーとチームインタラクションを同時に設計する利点を説いている。両者に働く力は同じものだからだ
>   - チームトポロジーはチームの目的と責任を明確にし、チーム間の相互関係の効果を向上させる
>   - チームトポロジーでは、戦略適応性の実現のために組織を調整しつつ、ソフトウェアシステムの構築においては人間的なアプローチを利用する

> - Chapter2
>   - 組織はそのコミュニケーションパスを反映した設計を作り出す
>   - 組織設計はソリューション探索の制約になり、取りうるソフトウェア設計を限定する
>   - 全員が他のすべての人とコミュニケーションするよう求めるのは、混乱のもとである
>   - チーム内のフローがよくなるようなソフトウェアアーキテクチャーを選択せよ
>   - 明瞭なチームインタラクションだけにコミュニケーションパスを限定することで、モジュール化した疎結合なシステムが生まれる

> - Chapter3
>   - チームはソフトウェアデリバリーにおける最も効果的な手段である。個人ではない
>   - ダンバー数を踏まえて、組織のグループのなかのチーム数を制限する
>   - チームの認知負荷の許容量に合わせて、責任を限定する
>   - チームごとに明確な責任の境界を作る
>   - チームの成功の助けとなるよう作業環境を変える

### Chapter1 組織図の問題

> - システムが人間の日々の活動のあらゆる側面に影響を与えており、その影響はますます大きくなってきている。
> - 明確な社会工学的デザインがこれほどまでに重要となったことは、かつてなかった。
> - 現代のIT組織は、ソフトウェアシステムをすばやく安全に提供、運用すると同時に、成長を続け、ビジネスや規制環境の変化や圧力に適応しなければいけない。
> - いまだに多くの組織が人やチームを組織するやり方は、モダンなソフトウェア開発や運用に逆効果となるやり方のまま
>   - 組織図やマトリクスに過度に依存して仕事を分割、管理している組織は、速いペースでのデリバリーとイノベーションへの適応の両立に必要な環境を作り出すのに失敗していることが多い。
> - これを成功させるには、組織に、安定したチーム、効果的なチームパターンとインタラクションが必要だ。
> - 適切なマインドセットと、再現性と適応性の両方を重視するツールがあれば、チームと人を中心に置きながら、安全にすばやく進めることが可能だ。

- どういう意味だろう？

> - 「高品質でインパクトのあるソフトウェアを提供するというゴールをサポートするため、組織構造は、説明責任をうまく調整しなければいけない」

- どういう意味だろう？

> - 「正しい」プロセスに従って「正しい」ツールを使いさえすればチームは成功するとか、チームは交換可能な個人の集まりだと考えてはいけない。
> - そうではなく、人と技術を人間とコンピューター、カーボンとシリコンからなる単一の社会工学的エコシステムと考えるのだ。

- どういう意味だろう？

> - 同時に、チームは内発的に動機づけられ、システムのなかで最高の仕事ができる本物の機会を与えられなければいけないのだ。

- どういう意味だろう？

#### 組織のコミュニケーション構造

> - ほとんどの組織では、チームや人を見渡すための「組織図」なるものを必要としている。
> - 組織図はソフトウェアシステムの構築という文脈において、特に規制やコンプライアンスの遵守に役立つ。
> - だが、アウトカムの不確実性が高く、コラボレーションを重視する状況では、やるべき仕事を分割する基本原則として組織図に頼るのは非現実的
> - 疎結合で長続きするチームに頼るしかない。
> - 人間は組織図の線でつながっている人たちだけとコミュニケーションするわけではない。仕事を終わらせるのに必要な相手であれば、誰とでも連絡を取る。
> - 実際のコミュニケーションの線が組織図に描かれたものと大きく異なる理由だ。

- 責任境界とコミュニケーションの断絶は違うという点は理解できる
- CMの組織図ってどんなかんじだろう？

##### 組織図思考は問題

> - 代わりに組織は、個人やチーム間のコミュニケーションにおいて、期待する形と現実の形を表すより現実的な絵を描かなければいけない。
> - その差が、組織に適しているシステムの種類を理解するのに役立つ

- 内部定義クラス同士の通信はしんどいことに似ているのか？
- 上位部署経由で通信するのも設計的にしんどそう。
- 上位部署クラスは親クラス（抽象クラス）ではない点に注意は必要か。

> - 組織図の構造に基づく意思決定は、組織の一部分のみに最適化されがちで、上流と下流への影響は無視される。
> - 局所最適化は直接関係のあるチームにとっては役に立つが、顧客への価値のデリバリー全体を改善するのに役立つとは限らない。
> - 他に大きなボトルネックが仕事のストリームのなかにあったら、局所最適化の効果はないに等しい場合もある。
>   - IaCを導入してもデプロイに必要な取締役会議が週１回のままなら、デリバリーは速くても１週間

> - システム思考では全体の最適化に重点を置き、その時点で最大のボトルネックを特定して取り除く、これを繰り返す。
> - チームトポロジーでは、新しい状況に素早く対応し、高速かつ安全にデリバリーするのに役立つ、動的なチーム構造とインタラクションモードをいかにして実現するかに焦点を当てる。
> - 組織図が仕事の終わらせ方やチームを間のやりとりを忠実に表したものだと考えてしまうと、仕事の割り当てや責任について効果的な判断ができなくなる。
>   - ソフトウェアのドキュメントが、実際の開発が始まると陳腐化するのと同様、組織図も常に現実と一致していない。

##### 組織図からの脱却

> - 全ての組織に１つではなく３つの異なる組織構造がある
>   1. 公式な構造：組織図、コンプライアンス準所を円滑にする
>   2. 非公式な構造：個人間の「影響力の領域」
>   3. 価値創造構造：個人間やチーム間の能力に基づいて、実際にどう仕事を終わらせるか
> - 知的労働組織の成功のカギは、非公式な構造と価値創造構造のインタラクションにあるとしている

- まだ非公式な構造と価値創造構造が何かイメージがついていない。

> - チームに権限を与え、チームを基本的な構成要素として扱うことで、チーム内の個人は、単なる人の集まりとしてではなくチームとして密接に連携しながら進むようになる。
> - 一方で、他のチームとのインタラクションモードを明示的に合意することで、期待するふるまいが明確になり、チーム間の信頼関係が育まれる。

- インタラクションモードとは？今後説明があるか。

> - 組織図やマトリクスマネジメントのような単一で静的な組織構造を利用していては、現代のソフトウェアシステムで効果的なアウトカムを生み出せないことが徐々に明らかになってきている。
> - 必要なのは単一の構造ではなく、チームの成長やチーム間のインタラクションを考慮に入れた、現在の状況に適応可能なモデルが必要なのだ。
> - チームトポロジーではあらゆる種類の組織で、チーム、プロセス、技術の整合性を保つための進化的なアプローチを提供する。

> - 組織設計における経験則
>   1. やむを得ない理由があるときに設計する
>   2. 設計判断のために選択肢を用意する
>   3. 適切な時期に設計する
>   4. 整合性が取れていない箇所を探す
>   5. 将来を見据える

#### チームトポロジー：チームについての新しい考え方

> - チームトポロジーはチームについてのサイズ、形、配置、責任、境界、インタラクションを網羅

> - ４つのチーム
>   - ストリームアラインドチーム
>   - コンプリケイテッド・サブシステムチーム
>   - プラットフォームチーム
>   - イネイブリングチーム

> - ３つのインタラクションモード
>   - コラボレーション
>   - X-as-a-Service
>   - ファシリテーション
> - インタラクションモードの例
>   - 技術やプロダクトの探索段階ではチームの境界がオーバーラップしたコラボレーションが多い環境が重要
>   - プロダクトが出来上がった後は逆に非効率的になる

> - チーム間の相互関係に積極的に優先順位をつける

- どういう意味だろう

> - 人間てピなアプローチも重視しており、チームの認知容量には尊重すべき上限があることを認めている

#### コンウェイの法則の再評価

> - 1968年のメルヴィン・コンウェイの寄稿による
>   - 「システムを設計する組織は、その構造をそっくりまねた構造の設計を生み出してしまう」
>   - 組織の本当のコミュニケーションパス（価値創造構造）と、結果として得られるソフトウェアアーキテクチャには強い相関関係がある
>   - チーム間のコミュニケーション構造を理解し、アーキテクチャが理想的にでも組織モデルに合わなければ、どちらか一方を変えなくてはならない

> - 「アーキテクチャの青写真」どおりのソフトウェアを作った経験のある人であれば、アーキテクチャが自分たちを正しい方向に導いてくれるというよりも、アーキテクチャと戦っていると感じたことが何度もあったのを思い出せるはずだ。

- 実際そうなのかな？

> - 逆コンウェイ戦略
>   - システムに反映したいアーキテクチャに合うようなチーム構造にするという考え
> - ソフトウェアアーキテクチャを独立した概念と捉え、独立して設計可能で、そうすればどんなチームの集まりでも実装できると考えるのは、根本的に間違っている

#### 認知負荷とボトルネック

> - チームもチーム全員の認知容量の合計を越えることはできない
> - チームの認知負荷について議論することが少ないのは、どんなものなのか、定量化などが難しいからと勘がられる
> - 認知負荷を考慮しないと、チームの責任範囲と担当領域が拡がりすぎ、熟達するだけの余裕がなくなり、担当業務のコンテキストスイッチに悩まされる

- これは感じるな…

> - 内発的動機付けの３つの要素が失われる
>   - 自律（複数の要求や優先順位を絶えず調整することで失われる）
>   - 熟達（多芸は無芸）
>   - 目的（広すぎる責任範囲）
> - 認知負荷をしっかりと考えるのは、チームサイズを決めたり、責任を割り当てたり、他のチームとの境界を設定したりする上で、とても役に立つ。
> - 全体としてチームトポロジーのアプローチでは、変更フロート稼働中のシステムからのフィードバックを最適化する組織設計を提唱している。

#### まとめ チーム構造、目的、インタラクションを再考する

> - ほとんどの企業は、ソフトウェア開発を専門分野ごとに分けた人たちが完成させる一種の製造業と見なしており、大規模プロジェクトを事前に計画し、社会工学的な力学はまったく考慮していなかった。
> - 従来型の組織の多くはその組織モデルゆえに、アジャイル、リーンIT、DevOpsのメリットを十分に享受できていない。
> - 自動化やツールを導入することばかりに注力してしまい、文化や組織面での変化は場当たり的になっている。
> - 私たちは組織図ではなく、コンウェイの法則、認知負荷の制限、チームファーストのアプローチを活用しなければいけない。

### Chapter2 コンウェイの法則が重要な理由

> - PART1の残りでは、コンウェイの法則がチームや組織構造、ソフトウェアアーキテクチャーについて示すことをより詳細に議論
> - それからチームファーストのアプローチの意味を掘り下げる。


#### コンウェイの法則を理解する

> - チームの組成やコミュニケーションの方法は、過去のプロジェクトやレガシーな技術に基づくことが多い
> - 大企業で働いたことがあるなら、モノリシックな共有データベースがビジネス全体を支えている例に遭遇したことがあるだろう。
> - モノリシックなデータベースは依存するアプリケーションと対になっていて、小規模なビジネスロジックの変更でさえもデータベースレベルでの変更を誘発する要因となってしまう（詳細はChapter6）。

- これはつらい

> - プロジェクト思考、アウトソーシングによるコスト削減、経験不足な若手チームなどのせいで、この明らかなアンチパターンが続いている。
> - こうした事態を避けるために組織に必要なのは、優れたアーキテクチャーのプラクティスだけではない。この新しい考え方に沿って編成されたチームが必要なのだ。
> - スポーツ用品メーカーのAdidasはコンウェイの法則を組織設計の原動力として明確に捉え、興味深い変革を遂げた。

特になし

> - ルース・マランの「システムのアーキテクチャーと組織のアーキテクチャーが対立する場合、組織のアーキテクチャーが勝つ」という言葉はコンウェイの法則の現代版とも言える。
> - とりわけ、職能型サイロ（品質保証（QA）、データベース管理、セキュリティといった特定の機能にチームが特化している）の形で配置された組織が、エンドツーエンドのフローに適した設計のソフトウェアシステムを作り出すことはまずない。
> - 同じように、地域ごとの販売チャネルを中心に配置された組織が、全世界向けに複数の異なるソフトウェアサービスを提供するような効果的なソフトウェアアーキテクチャーを作り出すこともないだろう。

- 職能型のチームはたくさんありそう

> - コンウェイは1968年に発表した論文で、「どんなチーム編成にも、うまく活用できない設計形式の類は存在する。そのために必要なコミュニケーションパスが組織に存在しないためだ」と述べていて、いくつかのヒントを示している。
> - 正式な指揮命令系統かどうかに関係なく、組織内のコミュニケーションパスが、組織が考案できるソリューションの種類を事実上限定する。

> - だが私たちは、戦略的優位のためにこれを利用してもよいのだ。ある種の設計（たとえば、技術的な内部に焦点を当てすぎたもの）を使わせたくないなら、そうならないように組織を再編すればよい。
> - 同じように、組織にある種の設計（たとえば、フローに適したもの）を発見し使わせたければ、そうなるように組織を再編すればよい。
> - もちろん、私たちが望む設計を組織が見つけて利用する保証はないが、少なくともコミュニケーションパスを形成することによってその可能性は高められる。
> - コンウェイの法則を利用した組織設計は、効果的なソフトウェア設計の探索を大幅に加速させる重要な戦略的活動となり、さほど効果のないソフトウェア設計を回避することにつながっていく。

- 組織図ではなくて、コミュニケーションパスを再編しないといけない
- 組織図を変えてもレポートラインが変わるだけで、コミュニケーションパスを再編するにはどうすれば良いのだろう。
- 「はじめに」にあったような以下を満たせるのか少し疑問
  > - 飛び抜けて優秀なプレイヤー向けの指示書ではなく、さまざまなチームや組織が取り入れたり応用したりできるようなわかりやすいものだ。

#### 逆コンウェイ戦略

> - 逆コンウェイ戦略を選択し、ソフトウェアが完成するより前にチーム間の相互のコミュニケーションを再構成するとよい。
> - 逆コンウェイ戦略は2015年頃に技術の世界で勢いを増し、以来多くの組織で応用されてきた。
> - 著書『LeanとDevOpsの科学』（インプレス、2018年）のなかで、ハイパフォーマンスな組織にはこの戦略が重要であると裏付けている。

> - 先ほど述べたモノリシックなデータベースのアンチパターンを覚えているだろうか？
> - 安定したチームがなく、すべての変更要求が一時的なプロジェクト（多くの場合は外注される）を通じて行われるため、アプリケーションがデータベースレベルで深く結合（データやプロシージャの共有）してしまうという極端な例もある。

> - 逆コンウェイ戦略をチーム編成にどう活かせば、求められるソフトウェアアーキテクチャーを手に入れることができるのだろうか？
> - ソフトウェアを構築する組織におけるコンウェイの法則をあえて単純化して、仕事場での意見や影響力を説明してみよう。
> - フロントエンドとバックエンドの開発者で構成された４つの独立したチームがシステムの別々の部分で作業をしていて、データベース管理者（DBA）にデータベースの変更を依頼するとしよう。
> - 変更フローは、概念的には図2.1のようになるだろう。

> - このようなチーム設計から自然に生まれたソフトウェアアーキテクチャーは、チームごとに別々のフロントエンドとバックエンドのコンポーネントを持ち、共有のコアとなるデータベースを１つ持つことになる。
> - 共有データベース管理チームがいれば単一の共有データベースの出現につながる可能性があり、フロントエンドとバックエンドの開発者が別々にいれば、UIとアプリケーションの層が分かれるということだ。

> - だが、単一の共有データベースが欲しいのでなければ問題だ。
> - たとえば、新しいクラウドベースのソフトウェアシステムにマイクロサービスアーキテクチャーを利用したいとする。各サービスは独立していて独自にデータストアを持っている。

> - 逆コンウェイ戦略を応用すれば、必要なソフトウェアアーキテクチャーに「一致」するようチームを設計できる。クライアントアプリケーションとAPIごとに個別の開発者を置き、チームにデータベース開発者を入れる。
> - コンウェイの法則によれば、このチーム設計が最も「自然に」望ましいソフトウェアアーキテクチャーを生み出す。
> - アプリケーション開発チームにデータ関連の能力を持たせることで対処するとよいだろう。

- 採用したいソフトウェアアーキテクチャをどうやって決めるかは尽きない問題？
- データウェアハウスはガバナンスを取るためにデータスチュワードを置きましょうとなることが最近は多いかも。

#### チーム内のフローをよくするソフトウェアアーキテクチャー

> - コンウェイの法則によれば、チームを編成する前にどんなソフトウェアアーキテクチャーが必要かを理解する必要がある。
> - ありがたいことに、実際には、以下のような実証済みのソフトウェアアーキテクチャーのグッドプラクティスに従えばよい。
>   - 疎結合、高い凝集度

- そうなるよね
- これが実は結構みんな分かってないような気がする

> - 概念レベルでは、ソフトウェアアーキテクチャーは実現される変更フローと似ているべきだ。
> - 相互接続された一連のコンポーネントではなく、下位のプラットフォームの上でフローを設計していくべきなのだ

- 変更フローが何か分からん

> - ものごとを分離しチーム内にとどめておくことが重要で、それができているかどうかを常に確認しよう。
> - それが組織を評価するテストになるのだ。

- 何言ってるか分からん

> - 「急速な変化の実現要因としてアーキテクチャーを利用することもできる。そのためには、変化を潔く受け入れるためにアーキテクチャーを分割する必要がある」
> - このように、アーキテクチャーは邪魔どころか実現要因にもなれるのだが、これはコンウェイの法則に基づくチームファーストのアプローチを取った場合に限られる。

- 何言ってるか分からん


#### 組織設計には技術的専門知識が必要だ

> - エンジニアリングチームの形成と配置に対する意思決定者はソフトウェアシステムのアーキテクチャーに強い影響を持つのだということを受け入れなければいけない。
> - 「どのサービスを構築すべきか、どのチームが構築すべきかということをマネジャーに決めてもらっているなら、それはシステムのアーキテクチャーをマネジャーに決めてもらっているのと同じだ
> - コンウェイの法則の背後にある同形性を示す証拠が増えていることを考えると、技術リーダーの意見を聞かずにチームの形成、責任、境界について決定を下すというのは、
> - ソフトウェアシステムを構築する組織にとって非常に非効率で、そしておそらく無責任なのだ。

- そうなるだろう

> - 基本的に、組織設計にはエンジニアを巻き込む必要がある。
> - というのも彼らは、API、インターフェイス、抽象化、カプセル化といった重要なソフトウェア設計の概念を理解しているからだ。

- エンジニアが理解している前提ではあるな

#### 不必要なコミュニケーションを制限する

> - コンウェイの法則の示す重要な点は、すべてのコミュニケーションとコラボレーションがよいとは限らないということだ。
> - したがって「チームインターフェイス」を定義し、どんな仕事には強力なコラボレーションが必要で、どんな仕事には必要ないのかという期待値を設定することが重要になる。
> - 多くの組織はいつでもコミュニケーションは多いほうがよいと考えるが、実際にはそうではない。

> - 必要とされるのは、特定のチーム間における集中的なコミュニケーションだ。
> - 「その構造は、チーム間のコミュニケーションパスの数を最小化するような構造になっているか？その一方で、チーム間のコミュニケーションが必要な場合は、それを誘発するような構造になっているか？」

> - ソフトウェアアーキテクチャー設計を踏まえると、論理的には２つのチームはコミュニケーションを必要としていないのに、コミュニケーションしているのであれば何かが間違っているに違いない、それを確認する必要があると述べている。
> - APIは十分か？プラットフォームが適切でないのか？コンポーネントが不足しているのか？
> - チーム間で低帯域幅、あるいはゼロ帯域幅のコミュニケーションを実現した上で、なおソフトウェアを安全かつ効果的ですばやい方法で構築しリリースすることが可能なのであれば、そうすべきなのだ。

> - 全員がすべての人とコミュニケーションする必要はない
> - コンウェイの法則の観点からすれば、これはサブシステム間のモジュール性の欠如といった、ソフトウェアシステムに意図しない結果をもたらす。
> - コンウェイの法則は、こういった多対多のコミュニケーションは、速いフローをサポートしない、モノリシックで、こんがらがっていて、結合度が高く、相互依存するシステムを生み出す傾向にあることを示している。

#### 注意　コンウェイの法則の軽率な使用

> - コンウェイの法則の解釈を誤ると、要求されるアーキテクチャーどおりにチームを配置したものの、実際には速いフローとは真逆の効果になるという危険性もある。

> - ツールの選択がコミュニケーションのパターンを推進する
> - モダンなソフトウェアシステムの構築と運用に苦労している組織に共通する問題は、チームや部門の責任境界とツールの責任境界の不一致だ。
> - 共通の共有ビューを提供する１つのツールで十分なのに、複数のツールを使用してしまうこともある。
> - また１つのツールを使っていても、チームが別々のツールを必要として問題が起きることもある。

- 組織設計だけでなく、ツールも影響を与える様子

> - チームにコラボレーションしてほしければ、共有ツールは理にかなっている。
> - チーム間の明確な責任境界が欲しいのなら、別々のツールを使うか、もしくは同じツールを別インスタンスで使うのが最適だろう。

> - ソフトウェア開発チームにIT運用チームと密接に連携して仕事をしてほしいとしよう。
> - チケット管理ツールや問題管理ツールを２チームがそれぞれで持つと、チーム間コミュニケーションはうまくいかないことが多い。
> - チームのコラボレーションとコミュニケーションを促すには、両グループのニーズを満たすツールを選択する必要がある。
> - 同じように、本番環境にセキュリティアクセス可能なチームだけが使える、特別な「本番専用」のツールの使用も避けるべきだ。

> - しかし、２つのチーム間の責任境界に重なりがない場合、つまりチームがコラボレーションする必要もなく、
> - まったく異なる役割を持っている場合は、２チームに対して同じ問題追跡ツールや同じ監視ツールを求めても大した価値はないだろう

> - たくさんの異なるコンポーネントチーム
> - 軽率にコンウェイの法則を使って、異なるコンポーネントチームをたくさん作り、システムの小さな部分の構築に専念させてきた組織もある。
> - コンポーネントチームが必要になることもあるが、非常に詳細な専門知識が必要な場合に限られる。

- このさじ加減は重要そう

> - 縄張り作りや人員削減を繰り返す組織再編
> - 過去の多くの「組織再編」の根底にある目的は、人員を削減するか、マネジャーやリーダーの権力のための縄張りを作ることだった。
> - 一方、コンウェイの法則に合わせた組織構造の変更では、空間（コンテキストや制約など）の改善を目的としている。
> - 強い言い方をするなら、管理の利便性や人員削減を目的とした定期的な組織再編は、組織がソフトウェアを効果的に構築し運用する能力をどんどん奪う。

#### まとめ技術の世界における効率的なチーム設計にはコンウェイの法則が不可欠

> - 組織の設計は、与えられたシステムのアーキテクチャーに対するソリューションの数を限定してしまう。
> - その一方で、ソフトウェアデリバリーの速度は、組織設計がどれだけ多くのチーム間の依存関係を組み込んでいるかによって大きく左右される。

> - 速いフローを実現するにはチーム間のコミュニケーションを制限する必要がある。
> - 開発のグレーゾーンにはチームのコラボレーションが重要だ。
> - ものごとを進めるには探索も専門知識も必要とされるからだ。
> - だが、探索ではなく実行が優勢な領域では、コミュニケーションは不必要なオーバーヘッドになる。

> - 逆コンウェイ戦略の適用が極めて重要なアプローチの１つになる。
> - つまり、望ましいアーキテクチャーの形に一致するようチームを設計するのだ。

### Chapter3 チームファースト思考

> - 知識が必要で、問題解決に大量の情報を扱う課題に取り組むには、個人の集まりよりも、団結したチームが有効
> - かつては階層型組織だった米陸軍のような組織でも、活動の基本的な単位としてのチームを適用している。
> - 「チームが偉業を成し遂げるのは、単にそれぞれの資質が優れているからだけでなく、メンバーがまとまって１つの生命体と化すからだ

> - Googleが自分たちのチームについて行った研究によれば、チームに誰がいるかということより、チームの力学が重要なことがわかった
> - 特にパフォーマンスを計測するという点では、個人よりチームがはるかに重要になる。
> - チームを育むのに考慮する点はたくさんある。チームのサイズ、チームの寿命、チームの関係、チームの認知だ。

#### 長続きする小さなチームを標準とする

> - 本書では、「チーム」は明確な意味を持って使われる。
> - チームとは、５人から９人のメンバーからなる安定したグループで、共有されたゴールのために働く単位のことだ。
> - 効果的に働けるチームの最大サイズは、多くの組織では７人から９人だ。
> - 有名な話として、Amazonではソフトウェアのチームのサイズはピザ２枚分までとしている
> - スクラムのような人気のフレームワークでもサイズを制限するよう推奨している。

キングダムの伍や什を思い出す
CMのチームってこの単位に収まってるのかな

> - このようなサイズの制限は、グループの認知と信頼に関する進化上の限界から来ている。
> - この限界の数をダンバー数と呼ぶ。
> - ダンバーは、１人の人間が信頼できる人間の数は150人までであることを明らかにした［35］。
> - そのうち、お互いのことを詳しく知って親密な関係を築けるのは、５人くらいだ

呼び名まであったのか

> - チームのサイズをマジックナンバーの７から９人を超えて大きくすると、チームが作るソフトウェアの生存可能性が失われる。
> - 信頼関係が失われ、不適切な判断がなされるようになるからだ。

部に一体感がないとかクレームが来るけど、これを見ると仕方のないことなのではという気も

##### 小さなチームが信頼を育む

> - 人類学における研究でも、人が深い関係を結べる人の数には７という明確な限界があることがわかっている
> - 好むと好まざるとに関わらず、組織のなかで効果的に働けるグループの数には自然な限界があるということだ。
> - 小さなスケールでうまくいっていたルールやパターンが、大きなスケールではうまくいかないこともある。

> - 組織は、ダンバー数に則ったサイズのグループによって構成できる。限界に達したら、別のユニットとして分割し、半独立のグループとする。

##### ●長続きするチームに仕事が流れ込む

> - チームを作って、そのチームが効果的に働けるようになるには時間がかかる。
> - チームが一体として働けるようになるには、２週間から３か月以上かかるのが一般的だ。
> - ６か月のプロジェクトを完了してやっとチームのパフォーマンスが向上してきたところで、メンバーを他のチームにアサインし直すのは、ほぼ価値がない。

> - ベストなやり方は、アラン・ケリーが、2008年の著書『ProjectMyopia』で示したように、チームを安定させ「チームに仕事が流れ込む」ようにすることだ。
> - チームは安定している必要があるが、固定してはいけない。必要なときにときどき変えるのだ。

このニュアンスはちょっと分からなかった。変えすぎるなという意味か？

> - 高信頼な組織では、人が年に１回チームを移っても、チームのパフォーマンスに大きな問題が出ることはない。
> - 信頼のレベルがそこまで高くない通常の組織では、メンバーは同じチームにより長い期間（１年半から２年くらい）とどまるべきだし、チームの一体感を維持、改善するためにコーチングを受けられるようにすべきだ。

高信頼かどうかで、維持する期間が変わってくるということか？

##### ●チームがソフトウェアのオーナーとなる

> - チームによるオーナーシップがあれば、探索段階、開発段階、実行段階に至るまでの複数の「ホライゾン」で、チームがソフトウェアの保守や生存可能性について考えられるようになる
> - ホライゾン１は、プロダクトやサービスの直近の未来を指し、年内にも結果が見えるものだ。
> - ホライゾン２は、次の数期分を意味し、プロダクトやサービスの提供範囲を拡大する。
> - ホライゾン３は、かなり将来のことで、新しいサービス、プロダクト、フィーチャーのマーケットとの適合性について実験を行わなければいけない。

> - 複数のチームに同一のシステムまたはサブシステムの変更を許すと、その変更と、変更がもたらす混乱について、誰もオーナーシップを発揮しなくなる危険がある。
> - ある。しかし、システムやサブシステムのオーナーが単一のチームで、仕事の計画について自律していれば、数週間先には削除されるさしあたっての障害対応について適切な判断を下せるようになる。
> - 異なるタイムホライゾンをまたがってオーナーシップがあることを認識することで、チームはコードをより効果的に保守できるようになる。

> - ソフトウェアシステムのすべてのパーツのオーナーは単一のチームである必要がある。
> - すなわち、コンポーネント、ライブラリ、コードの共同所有は許すべきでない。
> - コードについてチームが責任を持って保守するが、それはチームメンバー個人が他人を排除して、コードが自分だけのものと思ってよいということではない。
> - チームは、自分たちをコードの専有者ではなく、コードの世話役であると考えておくほうがよい。

##### ●チームメンバーにはチームファーストのマインドセットが必要だ

> - チームで効果的に働くには、チームメンバーは個人のニーズよりチームのニーズを優先しなければいけない。たとえば以下のようなものだ。
> - ・スタンドアップや会議の開始時間に遅れないこと
> - ・議論や調査を脱線させないこと
> - ・チームゴールへの集中を促すこと
> - ・自分の新たな仕事を始める前に、他のメンバーの障害を取り除くのを助けること
> - ・新しく参加したメンバー、経験の少ないメンバーをメンタリングすること
> - ・議論に勝敗をつけようとするのをやめ、良い代替案の探索に合意すること

2番目は気を付けよう…

> - コーチングを行っても、個人のニーズよりチームのニーズを優先できない人もいる。
> - そのような人はチームワークを壊すし、極端な場合にはチーム自体も破壊する。
> - こういった「チームの毒」となる人は、実際に被害が出る前にチームから取り除かなければいけない。

実際はその判断が難しそうだな。

##### ●チーム内の多様性を受け入れる

> - 最近の調査では、民間組織においても軍事組織においても、多様なバックグラウンドを持つメンバーからなるチームのほうがより早く創造的なソリューションを生み出し、他のチームとも共感しやすいことが、強く示唆されている。
> - 多様なメンバーの混成チームは、ソフトウェアのユーザーの状況やニーズに関する思い込みが少なく、より良い結果をもたらせる。

個人のニーズと多様性は異なる。

##### ●個人ではなくチームに報いる

> - リーン生産方式ムーブメントの中心人物であるエドワード・デミングは、著書『OutoftheCrisis』のなかでマネジメントにとって重要な14項目を示しており、そこで「年次個人評価の廃止」と「目標設定によるマネジメントの廃止」を挙げている
> - 現代の組織において、個人のパフォーマンスに対して報酬を与えるのは、悪い結果を招きやすく、従業員のふるまいに悪影響を与えることも多い。

> - チームファーストアプローチでは、チーム全体の活動に対してチームに報酬が与えられる。
> - Nokiaでは、報酬についてこう説明していた。
> - 「組織内の給与の差は小さく押さえる。ボーナスの額は小さく、個人の業績ではなく、会社全体の業績に対して通常はチーム単位で支払う」。
> - チームファーストアプローチでは、研修予算は個人ではなくチーム単位でまとめて割り当てる。
> - あるメンバーがチームに情報を伝えるのがとてもうまいという理由で、その人を年に６回も７回もカンファレンスに送り送り込みたいとチームが思うなら、それでも構わない。
> - どう判断するかはチームに任されている。

なるほどー

#### 適切な境界が認知負荷を下げる

> - デリバリーの基本単位としてのチームが確立できたら、組織は次に、チームの認知負荷が高くなりすぎないようにしなければいけない。
> - この節では、チームの認知負荷をどのように認識し、速い変更フローを安全に実現するために、どう認知負荷を制限するかを説明する。

##### ●チームの認知負荷に合うように責任範囲を制限する

> - 近年のソフトウェアデリバリーで摩擦を増やす要因のうち最も認知されていないものの１つが、チームが扱うコードベースのサイズと複雑さが増大の一途をたどっていることである。
> - これは、チームに際限のない認知負荷をもたらす。

> - 認知負荷の問題は、コーディングより運用を主に行っている従来の運用やインフラストラクチャーチームにも当てはまる。

運用も同じ

> - ソフトウェアデリバリーチームの場合、認知負荷に対するチームファーストアプローチは、チームが扱うソフトウェアシステムのサイズを制限することである。

> - ジョン・スウェラーは３種類の認知負荷を定義した。
> - ・課題内在性負荷：問題領域の本質的なタスクに関連するもの（例：「Javaクラスの構造は？」、「新規メソッドを作成するには？」）
> - ・課題外在性負荷：タスクが実施される環境に関連するもの（例：「このコンポーネントを再デプロイするには？」、「このサービスを構成するには？」）
> - ・学習関連負荷：学習を進めたり高性能を実現したりするうえで、特別な注意が必要なタスクに関連するもの（例：「このサービスは、ABCサービスとどのように関わるべきか？」）

> - 一般的に言って、モダンなソフトウェアシステムのデリバリーと運用を効果的に行うには、研修の実施、適切な技術選定、雇用、ペアプログラミングなどを通じて、組織は課題内在性負荷を最小化しなければいけない。
> - 同時に課題外在性負荷も取り除くべきだ。ワーキングメモリに退屈で冗長なタスクやコマンドを入れておく必要はなく、多くの場合自動化できる。
> - そうすれば、付加価値について考えるための学習関連負荷に使える余力が増える。

自動化の構築って時間かかるから、初動が遅いと言われてしまう。少なくともドキュメントに残すべきかな。

> - ソフトウェアシステムを分割して責任範囲をチームに割り当てる際に、認知負荷を考慮に入れている組織は少ない。
> - 問題を担当するチームを増やすことで、認知負荷が分担されると思い込んでいるのだ。

> - 認知負荷容量を超える責任を課すことでチームにストレスを与えると、チームはハイパフォーマンスなユニットとして働くことができなくなり、ただの個人の集まりのようにふるまい始める。
> - チームの関心事について考慮することなく、個人のタスクを達成しようとし始める。

##### ●相対ドメイン複雑度を用いて認知負荷を計測する

> - すばやく簡単にチームの認知負荷を知るには、中立の立場からチームに「チームは、頼まれた仕事に対して、効果的でタイムリーな対応ができていると思うか？」と尋ねてみるとよい。
> - 明確にネガティブな回答があった場合は、認知負荷が高すぎることを経験的に理解できるだろう。

計測方法についてもっとも簡易的なもの

> - そのような場合、効果的で積極的なチームに戻すため、組織は認知負荷を減らすのに必要な対処をしなければいけない。
> - そうすることで、チームのメンバーが仕事の価値や目的を理解しやすくなり、モチベーションが向上することも多い。

> - ソフトウェアの認知負荷をコード行数、モジュール数、クラス数、メソッド数などの単純な値で測ろうとしてもうまくいかない。
> - さらに、チームはコードの抽象化と再利用も進めているので、コードの行数が少ないからといって、必ずしもシンプルとは言えなくなっている

同意

> - 認知負荷を計測しようとするとき、私たちはドメインの複雑度に特に注意を払う。
> - ソフトウェアで解こうとしている問題がどれだけ複雑かということだ。
> - ソフトウェアのサイズ自体よりも、ドメインというコンセプトは適用範囲が広い。

> - チームは、一般的なドメイン知識が足りないことに気づいてはいたが、知識の獲得に使える時間はなかった。
> - 実際、チームのほとんどの認知負荷は、課題外在性負荷であり、付加価値を生み出せる課題内在性負荷や学習関連負荷に使える容量はほとんど残っていなかった。

これは受託だと全員がこうなってないか少し不安だな
受託で顧客によりそうとは、ドメイン知識を身に着けることそのものでは。
であれば、ドメイン知識が足りないのは、個々人の責任というよりは課題外在性負荷が大きすぎるだけなのかもしれない。

##### ●チームが扱うドメインの種類を制限する

> - 相対的ドメイン複雑度を用いて推測すれば、チームの責任の境界を決定するのに役立つ。
> - ドメインの複雑度に対して疑問がある場合は、責任を担うチームがどのように感じているかという点を常に優先しよう。
> - ドメインの複雑度を軽視して、「継続的デリバリーのツールはたくさんあるから簡単だろう」のような発言をして、チームに多くのドメインを押し込めようとしても失敗するだけだ。

それな

> - まず、各チームが取り扱う明確なドメインを特定し、ドメインを
> - シンプル（ほとんどの仕事は、明確な作業手順がある）、
> - 煩雑（変更の分析が必要で、適切なソリューションの提供には数回の繰り返しが必要）、
> - 複雑（ソリューションの提供には、多くの実験、探索が必要）に分類しよう。

煩雑と複雑は、複雑度の違いだけかな？

> - 第１の経験則は、それぞれのドメインを単一のチームに割り当てることだ。
> - ドメインが１チームに対して大きすぎたら、チームの責任範囲をドメインのなかで分割するのではなく、ドメインをサブドメインに分割し、サブドメインごとにチームを割り当てられないか検討しよう

何が違う？チームを増やす点？

> - 第２の経験則は、７人から９人という黄金則に則った単一のチームが、シンプルなドメインを２つか３つ扱うことだ。
> - そのようなドメインは、極めて手続き的なことが多く、機械的に反応できるため、ドメイン間のコンテキストスイッチのコストも容認しやすい。

これが理想的な感覚はある

> - しかし、仕事がルーティン化することで、チームメンバーのモチベーションが下がるリスクもある。

これよなぁ

> - 第３の経験則は、複雑なドメインを割り当てられたチームには、それ以外のドメインをたとえシンプルなものであっても割り当てるべきではないということだ。
> - これは仕事のフローを妨害するコストの高さ（複雑な問題解決には時間と集中が必要）と、
> - 優先順位付け（シンプルで予測可能な問題はすぐ対応することが多く、結果としてビジネスにとっていちばん重要な複雑な問題に取り組むのが遅れる）のためである。

> - 最後の経験則は、チームに２つの煩雑なドメインを割り当てるのを避けるということだ。
> - ８人か９人のメンバーがいる大きめのチームなら問題ないように見えるかもしれない。
> - だが実際は、チームは、それぞれが別々のドメインを担当する２つのサブチームに分割されたようにふるまうようになる
> - それでも、チームメンバー全員が両方のドメインに関する知識を求められるので、認知負荷が上がり、調整のコストも上がる。

> - 追加のチームメンバーを１人か２人採用して、チームを５人ずつ２チームに分割したほうが、それぞれのチームが集中し自律できるようになる

> - これはあくまで推奨であって、成功するための確固たる方法などではない。あなたの組織が進化し学習するための開始点として、これらのガイドラインを利用してほしい。

##### ●ソフトウェアの境界のサイズをチームの認知負荷に合わせる

> - チームファーストアプローチを使い、ソフトウェアのサブシステムを適切なサイズに設定し、適切な境界を設定しなければいけない。
> - 抽象的にシステムを設計するのではなく、デリバリーチームの認知負荷に沿った形で、システムとソフトウェアの境界を設計する必要がある。
> - モノリシックアーキテクチャーかマイクロサービスアーキテクチャーを選ぶのではなく、ソフトウェアをチームの認知負荷の制限に合った形に設計するのだ。

> - ソフトウェアの境界に対してチームファーストアプローチを適用する場合、特定のソフトウェアアーキテクチャー、たとえば小さな独立したサービスなどが好んで用いられるようになる。

逆ではないという意味か？

> - チームが担当するソフトウェアサブシステムやドメインのサイズを拡大したい場合は、チームの認知容量を最大化できるように課題内在性負荷および課題外在性負荷を削減し、チームが働くエコシステムを調整する
> - ・チームファーストな作業環境（物理環境、仮想環境）を用意する。詳細はあとで説明する
> - ・会議やメールを削減したり、問い合わせ担当のチームや担当者を用意したりするなどして、作業中に気が散ることを減らす
> - ・やり方を指示するのではなく、ゴールとアウトカムを伝えるようなマネジメントスタイルに変更する。マクリスタルが『チーム・オブ・チームズ』で書いたように「見守りつつも手は出さない」
> - ・良いドキュメント、一貫性の確保、良いUXなどのデベロッパーエクスペリエンス（DevEx）プラクティスを利用し、チームが開発したコードやAPIを利用する他のチームのDevEx品質を改善する
> - ・チームが利用するプラットフォームは明示的に認知負荷を減らすように設計されたものを使う

> - 逆に、チームファーストなオフィススペースがなく、良いマネジメントプラクティスも使われておらず、特にチームファーストなプラットフォームがない場合、チームが担当できるソフトウェアサブシステムのサイズは小さくなる。

> - 「他人の認知負荷を最小にする」は、良いソフトウェア開発で最もよく使われる経験則の１つだ。

分からなくはないが、良く設計されたコードはその仕組みは理解しにくい。。。

#### 「チームAPI」を設計して、チームインタラクションを促す

##### ●「チームAPI」をコード、ドキュメント、ユーザーエクスペリエンスを含めて定義する

> - 安定して長続きするチームが、ソフトウェアシステムの特定の部分のオーナーシップを持つことで、安定したチームAPIを構築できる。
> - チームAPIには、以下が含まれる。
> - ・コード：チームが作成しているランタイムのエンドポイント、ライブラリ、クライアント、UIなど
> - ・バージョン管理：チームがコードやサービスの変更についてどうコミュニケーションするか（例：セマンティックバージョニングを「チームの約束」として扱い、壊さないようにする）
> - ・Wikiとドキュメンテーション：特にチームがオーナーシップを持つソフトウェアについてのハウツーについて
> - ・プラクティスと原則：チームが好む働き方について
> - ・コミュニケーション：リモートコミュニケーションについてのチームのアプローチ。チャットツール、ビデオ会議ツールなど
> - ・仕事に関する情報：チームが現在取り組んでいること、次にリリースされるもの、中長期の全体の優先度など
> - ・その他：他のチームがこのチームとやりとりするために必要なことはなんでも

> - チームAPIは、他のチームからのユーザビリティについて明確に検討しておく必要がある。
> - ソフトウェアのチームファーストオーナーシップを有効にするには、チームは継続的にチームのAPIを定義して公開し、テストして進化させ、APIのユーザーの目的に合っているようにしなければいけない。
> - APIのユーザーは他のチームだ。

##### ●信頼、認知、学習のためにチームインタラクションを促進する

> - 重要なのは、異なるチームから似たようなスキルや専門知識を持った人が集まり、お互いから学んだり、プロとしての技能を身に付けたりできるように、時間、場所、お金を提供すること
> - チームや人がお互いにコミュニケーションしながら学ぶための時間と場所を明示的に確保しておくことで、組織では、効果的なチームインタラクションを促す学習と信頼構築のリズムが作れるようになる。
> - １．意識して設計された物理環境および仮想環境
> - ２．ギルド活動のためにデスクから離れる時間。コミュニティオブプラクティス

> - ここでのチームインタラクションは、担当するソフトウェアシステムの日々の開発や運用に関係ないものだ。
> - そのため、コンウェイの法則の影響は受けにくく、チーム間のより自由な交流が発生しやすい。
> - このような場でチームインタラクションを練習していたチームは、実際のソフトウェアシステムの開発運用においてもうまくいきやすいということだ。

仕事以外の交流は必要

##### ●チームインタラクションを助けるために物理的、仮想的な環境を明示的に設計する

> - 物理環境と仮想環境を意識して設計することが、チームが学習し信頼を構築するのに必要だ。

> - だが、生産的に働ける環境は状況や人によって異なる。
> - 複雑なアルゴリズムの実装とテストのようなタスクは完全に集中しなければいけないため、静かな環境が必要だ。
> - ユーザーストーリーと受け入れ基準を定義するといった、コラボレーションが非常に多い環境を必要とするタスクもある。

> - １日中ヘッドフォンをつけて仕事をしている人は社会的でないとみなされ、彼らのふるまいはインタラクションとコラボレーションを促すこともない。
> - だが、その人たちが生産的に働くには、オフィス環境がうるさすぎるためかもしれないのだ。

座る場所によっては今のオフィスもそうなりがち…程度がムズイ。

> - 個人用に区切られたパーティションも、完全なオープン席も、チームには適切ではない。
> - オープンレイアウトだけでも、個人ワークスペースだけでも、このバランスは達成しづらい。
> - Spotifyは、成長の初期段階でこの課題に気づき、両方のニーズを満たせるようにオフィスを準備した

> - RedHatOpenInnovationLabsのジェレミー・ブラウンは、オフィス家具や植物など全部に車輪をつけて、仕事の種類に応じて、
> - もしくはチームが新しいやり方を生み出して進化するために、頻繁に物理スペースを再構成できるようにしていると語っている

これいいな

> - テクニカルスタッフは、２、３台のモニターを普通に使っていたため、この施策は不評だった。

せやろなぁ。

> - 仮想環境では、ユーザーの名前付けを工夫して、どのチームの誰であるかをわかりやすくしたほうがよい。

#### 警告:エンジニアリングプラクティスが基礎である

> - いくらチームファーストアプローチに投資したとしても、それらの技術がなければ、目標の達成は難しく大きな成果は得られなくなる。
> - 継続的デリバリーのプラクティスは仮説駆動の開発をサポートし、自動化や運用のプラクティスは、運用課題の早期かつ継続的な探索やチェックにつながる。
> - テスト容易性のプラクティスとテストファースト開発は、ソリューションの合目的性と設計品質を高め、信頼性プラクティスは、デリバリーパイプライン自体が重要なプロダクトとして扱われることを保証する。
> - すべてのプラクティスが、速いフローには必須であり、すべてのエンジニアリングチームの継続した努力を必要とするのだ。

だいじ

#### まとめ:チームの認知負荷を制限し、チームインタラクションを促進することで、速く進めるようになる

> - 変化が激しくチャレンジングな状況では、個人の集まりよりもチームのほうがより効果的に働ける。
> - 重要なのは、チームのサイズには制限（ダンバー数）があり、単一のチームが取り扱える認知負荷には実質的な限界があることだ。
> - チームファーストアプローチは、組織のなかのいろいろなタイプの人が働ける機会を提供できる。人を没個性化させようとする組織で必要だった図太さや忍耐強さは不要になる。
> - チームファーストの組織では、チームのコンテキストのなかでスキルやプラクティスを磨く場所とサポートが提供される。

## PART2フローを機能させるチームトポロジー

### Chapter4静的なチームトポロジー

> - その場しのぎや頻繁なチーム設計の変更はソフトウェアのデリバリーを遅くする
> - 唯一絶対のトポロジーはないが、どの組織にとっても不適切なトポロジーはある
> - どのトポロジーにするかを検討する際は、技術面や文化面での成熟度、組織の規模、技術面での規律といった観点が欠かせない
> - 特に、フィーチャーチームやプロダクトチームのパターンは強力だが、それを支える環境がある場合のみ機能する
> - チームの責任を分割することでサイロを壊し、他のチームの能力を高める

> - PARTIIでは、チームの認知的限界を考慮しつつフローを最大化するには、これらの２つのアイデアをどう組み合わせればよいかを見ていく。

> - 現時点で、チームを立ち上げたり再編したりする一般的なやり方は、長期的な適応能力よりも目先の必要性に焦点を当てた場当たり的なものだ。
> - できる限り効果的なチームにするには、ただ偶発的もしくは行きあたりばったりでチームを編成するのではなく、継続的にチームを設計する必要がある。
> - 本章では、静的なチームトポロジーの例を見ていく。

#### チームのアンチパターン

> - 最初のアンチパターンは、場当たり的なチーム設計だ。

> - もう１つのアンチパターンは、チームメンバーの入れ替えだ。
> - 非常に不安定なチームをプロジェクトベースで作って、プロジェクトが終わったらすぐに解散するというものだ。
> - チームAに配属されたエンジニアは、チームBに配属された場合とまったく違ったパフォーマンスになるかもしれないのだ。

> - 組織は以下の質問をすることで、意図的にチームを設計しなければいけない。

#### 変更フローを考慮した設計

> - 職能型サイロ、アウトソーシングの多用、チーム間で繰り返される引き継ぎといった古い組織モデルでは、
> - 顧客やマーケットの状況に日々対応しサービスを継続的に進化させるのに必要となる速度を安全に実現することはできないし、組織的なフィードバックメカニズムは得られない。

> - Spotifyは、ソフトウェアのデリバリーと運用の有効性を改善するために明確な組織設計を行っている良い例だ。
> - この組織設計は「Spotifyモデル」として知られており、Spotifyの技術スタッフは小さく自律的な職能横断型のスクワッドに配置される。
> - スクワッドは長期のミッションを持ち、５人から９人で構成される。
> - 似たような領域の仕事に取り組む複数のスクワッドは、トライブと呼ばれるグループにまとめられる。
> - あるトライブのなかのスクワッドはそれぞれ、他のスクワッドの仕事にも精通していて、トライブ内部で仕事の調整を行う。

> - トライブ内で似たスキルや強みを持つエンジニアたちは同じチャプターに所属してプラクティスを共有する。
> - たとえば、あるトライブ内の６つのスクワッドにいるテスターたちは、テスターのチャプターに所属するのだ。
> - チャプターでもラインマネジメントが行われるが、ラインマネジャー（チャプターリード）の仕事は日々のスクワッドの仕事の一部であり、現場から離れたマネジャーではない。
> - また、Spotifyでは、複数のトライブ、チャプター、スクワッドの人たちを含むコミュニティオブプラクティスである「ギルド」をたくさん形成している。

> - 多くの組織は、Spotifyのチーム形成の根底にある目的、文化、力学、軌跡を理解することなしにSpotifyモデルをまねするという失敗をしている。
> - 他の素晴らしいアジャイル企業と同じようにSpotifyはすばやく進化している。
> - この記事は現在の働き方のスナップショットにすぎず、旅の途中だ。旅は終わっていない」と明言している。

> - ●フローとセンシングを可能にするチーム間コミュニケーションの形成

> - 多くの組織には、ソフトウェアシステムを構築、運用するときのチーム間のインタラクションの方法に重大な欠陥がある。

> - 段階別に分担する職能型サイロのもとで直線的かつ段階的な変更を行うのは、現代のソフトウェアシステムの変化の速さや複雑度とまったく相容れない。
> - ソフトウェア開発プロセスにおいて、本番環境でのソフトウェアの動きから学べることはほとんど、もしくはまったくないと考えるのは、根本的に間違っている。
> - 反対に、ソフトウェア開発チームが本番環境で動作しているソフトウェアに触れるような組織では、サイロ化した競合他社と比べて、ユーザーの目に見えるような問題や運用上の問題をよりすばやく見つけられる

> - 「デリバリ担当チームが職能上の枠に縛られず、同一のチーム内でシステムの設計・開発・テスト・デプロイ・運用を行うのに必要なスキルをすべて兼ね備えていなければならない」

> - 現場のスタッフやチームは、組織が扱うマーケットや環境に関するとても価値あるシグナルの情報源だと考えよう。
> - そうすることで、優れた「センシング」能力が得られるようになる。

> - 組織的センシングの詳細については、PARTIIIで詳しく見ていく。

#### DevOpsとDevOpsトポロジー

> - 2009年頃はまだ、自分たちでソフトウェアを構築、テスト、運用する職能横断型チームだけがたどりつける組織的センシングの「境地」の存在に気づいていた組織はほとんどなかった。
> - DevOpsの世界では、これは「混乱の壁」として知られるようになった。

今でも…

> - DevOpsムーブメントは2009年頃に始まった。
> - これはDevとOpsの摩擦の高まりを受けたもので、アジャイルが主流になるにつれて、運用チームにデプロイ頻度を増やせという圧力が高まったことが背景だ。

> - DevOpsの主な貢献は、デリバリーチェーンにおけるチーム間のインタラクション（またはインタラクションの欠如）が遅延、再作業、失敗、他のチームに対する理解と共感の欠如を引き起こしているという問題意識を高めたことにある。
> - さらに、このような問題は、アプリケーション開発と運用チームの間だけで起こるものではなく、QA、情報セキュリティ、ネットワークなどソフトウェアデリバリーに携わる他のチームとのインタラクションでも発生することも明らかになった。

> - ●DevOpsトポロジー

> - DevOpsの成功パターンは、組織やプロダクトの規模、技術的な成熟度や共通のゴールなどのコンテキストによって大きく異なるというのが肝だ。
> - 本章では、組織のコンテキストやニーズを踏まえてチーム構造を選ぶときの考え方を説明するために、DevOpsトポロジーカタログに含まれるパターンをいくつか紹介する。

> - DevOpsトポロジーには２つの重要な考えが反映されている。
> - １つ目は、DevOpsを成功させるためのチームを構成するアプローチには、万能のものはないということ。
> - ２つ目は、DevOpsの成功を妨げるアンチパターンとなるような、DevOpsの信条に反したり無視したりするようなトポロジーもあること。

#### 成功しているチームのパターン

> - さまざまな種類のチームが成功するかどうかは、ひとえにチームメンバーの経験やスキル次第というわけではない。もっと重要なのは、周りの環境やチームやインタラクションだ。

> - ●フィーチャーチームはエンジニアリングにおける高い成熟度と信頼を必要とする

> - フィーチャーチームとは、職能横断型かつコンポーネント横断型のチームのことで、顧客向けの機能のアイデア検討から構築までを一貫して行い、顧客に提供し、理想的には使用状況やパフォーマンスを監視できるチームを指す。

> - 職能横断型なフィーチャーチームは、コンポーネントを横断して顧客中心の機能をすばやくリリースすることで、組織に高い価値をもたらす。
> - その速度は、複数のコンポーネントチームがそれぞれに変更を加えて１つのリリースにまとめるよりもかなり速い。
> - だが、これができるのはフィーチャーチームが自給自足、つまり他のチームを待つことなく機能を本番にリリースできる場合に限る。

> - 必要なユーザーエクスペリエンス、性能、信頼性を満たした上で、確実にシステムが統合されて動作するように、誰かがシステム全体に目を光らせなければいけなかった。
> - そこで、システムアーキテクト、システムオーナー、統合リードなどの個別の役割が作られた。
> - 重要なのは、こういった役割の人たちがプロジェクトや組織全体を横断して、「コミュニケーションの導線」のように働き、フィーチャーチームと直接かつ頻繁にやりとりすることだ。

> - ●プロダクトチームはサポートシステムを必要とする

> - プロダクトチームの目的や特徴はフィーチャーチームと同じだが、１つかそれ以上のプロダクトの機能全体を担当するという点が異なる。

> - チームが自律的でいるのに重要なのは、外部への依存関係をノンブロッキングにすることだ。
> - すなわち、新機能はできているのに、外部の何かを待っているということがないようにする。
> - たとえば、プロダクトチームが新機能を作り終わったら、確実にQAチームがすぐ評価に取りかかれるようにするのは極めて難しい。

> - ノンブロッキングな依存関係は、他のチームが開発、維持するセルフサービス型の能力という形を取ることが多い。
> - たとえば、テスト環境の払い出し、デプロイパイプラインの作成、監視などだ。プロダクトチームはこれらを必要に応じて独立して使うことができる。

> - 簡単に使えるサービス（プラットフォーム指向のアプローチが望ましい）や、チームが不慣れなタスクを行うときにすぐに頼れるスペシャリストといったサポートシステムがないままにプロダクトチームを作ると、多くのボトルネックを作り出す。

> - ●クラウドチームはアプリケーション用のインフラストラクチャーは作らない

> - プロダクトチームは必要に応じて新しいイメージやテンプレートを作り、自分たちの環境やリソースをプロビジョニングできる自律性が必要だ。
> - クラウドチームは、プロダクトチームのニーズと適切なリスクおよびコンプライアンス管理のニーズに合うような、高品質のセルフサービスを提供することに注力すべきだ。

> - つまり、クラウドインフラストラクチャーのプロセスを設計する責任（クラウドチーム）と、アプリケーションに必要なリソースを実際にプロビジョニングしたり更新したりする責任（プロダクトチーム）を分離する必要があるのだ。

> - ●SREは大規模でこそ意味がある

> - SREチームのメンバーに求められるのは優れたコーディングスキルと、より重要なのが、繰り返し行う運用タスクをコードによって自動化し、トイルを減らし続ける強い意欲と時間の余裕だ。

> - TIP:SREチームは必須ではなくオプションだ
> - Googleでもすべての開発チームがSREを使っているわけではない。

> - SREチームとアプリケーション開発チームの関係は、ソフトウェアライフサイクルのさまざまな段階で変わる。

> - だがSREモデルは簡単ではない。
> - GoogleCloudでカスタマーリライアビリティエンジニアリングのディレクターを務めるデイブ・レンシンは、「Googleレベルの運用の厳格さを実現するには、持続的なコミットメントが必要だ」としている。
> - SREは、アプリケーション開発チームの運用性へのこだわりとSREチームの専門性とのダイナミックなバランスの上に成り立っている。

#### トポロジーを選択する場合に考慮すること

> - ●技術的成熟度と文化的成熟度

> - 組織の技術的成熟度と文化的成熟度の段階によって、効果的なチーム構造は異なる。
> - たとえば、2013年の時点でAmazonとNetflixは、組織内部のサービスはエンドツーエンドの責任を持つ職能横断型チームが提供するという戦略を確立していた［78］。

> - DevOpsチームのミッションや期限が不明瞭だと、このパターンから簡単に一線を越えてアンチパターンに陥る。
> - つまり構成管理、モニタリング、デプロイ戦略などの知識で縦割りにしたサイロ（DevOpsチーム）が組織内でさらに増えるのだ。

> - ●組織のサイズ、ソフトウェアの規模、エンジニアリングの成熟度

> - これまで見てきたとおり、良いトポロジーの選択は、組織やチームのコンテキストに大きく依存する。
> - 少なくとも、組織のサイズやソフトウェアの規模、エンジニアリングの成熟度は、DevOpsのコンテキストにおけるトポロジーの選択に影響を与える（図4.4）。

> - 成熟度の低い組織は、自律的なエンドツーエンドチームに必要なエンジニアリング能力とプロダクト開発の能力を身に付けるのに時間が必要だ。このとき、開発、運用、セキュリティなど専門性の高いチームが、密接に協力して待ち時間を最小にして問題にすばやく対処できるのであれば、許容範囲のトレードオフになる。
> - 中規模の組織やソフトウェアでは、スピードのためにチーム間での密接なコラボレーションを重視するパターンがうまく機能する。
> - 組織やソフトウェアの規模が大きくなるにつれて、下位のインフラストラクチャーやプラットフォームをサービスとして提供することに重点を置くことで、ユーザー向けのサービスの信頼性が向上し、顧客の期待に応えることができるようになるという点でメリットがある。
> - 組織のエンジニアリングの成熟度と規律が高い場合には、これまでに説明したSREのモデルが大規模でもうまく機能する。

CMは中規模になるのかな。

> - ●責任の分割によるサイロの解消

> - ときには、あるチームが抱える責任を分割し、他のチームがそれを引き受けるようにすることで、そのチームに対する依存関係を除去したり減らしたりすることができる。
> - データベース開発の活動とデータベース管理の活動はデータベースチームという職能型サイロにまとめられていることが多いが、速い変更フローの実現の必要性と共有データベースの利用の減少とが相まって、役割を分離することの効果が大きくなっている。

> - ここまで見てきた例のすべてで、チームの能力（もしくは能力不足）とそれがチーム間の依存関係をどう引き起こすかについて考える重要性を訴えている。
> - 仕事が多くなったときに単にチームを複製したり人を追加したりするのではなく、より多くのメリットを享受するにはどの依存関係を取り除くべきか、どの依存関係は明示的に受け入れるかを考えることが重要なのだ。

> - ●チーム間の依存関係と待ち時間

> - 責任が明瞭で、独立して作業可能で、フローに最適化したチームにするには、チーム間の依存関係と待ち時間の検出と追跡が不可欠だ。

> - TIP:依存関係を検出して追跡しよう
> - Spotifyではスクワッドとトライブの相互依存関係を検出して追跡するのに、単純なスプレッドシートを使っている。
> - スプレッドシートで明らかにするのは、同じトライブのスクワッド間に依存関係があるか（この場合は許容範囲だ）、他のトライブとの間に依存関係があるか（この場合はチーム設計か仕事の割り当てがおかしい可能性を示唆している）だ。
> - また、その依存関係が、それに依存しているチームのフローにどれだけすぐ影響を与えそうなのかも追跡している。

#### DevOpsトポロジーを活用して組織を進化させる

ここなんも分からんかった…

#### まとめ現在のコンテキストにあったチームトポロジーを選び進化させる

> - ある時点の特定の問題やニーズを解決するためにトポロジーを選ぶのではなく、さまざまな側面を考慮しながら、ゆるやかに進化し続ける組織のコンテキストにおいて機能するトポロジーを明示的に選ぶことが重要だ。

## 記録

2023-06-05 : (42/354)
2023-06-11 : (57/354)
2023-06-12 : (68/354)
2023-06-19 : (80/354)
2023-06-20 : (90/354)
2023-06-22 : (109/354)
2023-07-10 : (123/354)
2023-07-23 : (141/354)