# LLM : Retriever(LlamaIndex)

### [2023-04-09 LlamaIndexã§ã‚¯ã‚¨ãƒªã«å›ç­”ã—ãŸãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã‚’å–å¾—ã™ã‚‹æ–¹æ³•](https://dev.classmethod.jp/articles/get-reference-in-query-of-llamaindex/)

- file_metadataã‚’ä½¿ã†ã“ã¨ã§ã€node.node.extra_infoã«ãƒ•ã‚¡ã‚¤ãƒ«åã‚’ã‚‚ãŸã›ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚
- ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã®æƒ…å ±ã¯ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®source_nodesã«å«ã¾ã‚Œã‚‹

### [2023-04-11 LlamaIndex ã§SQLç”Ÿæˆã‚’è©¦ã™](https://note.com/hmj_kd/n/n24c8e2858e96)

- ã‚¹ã‚­ãƒ¼ãƒã‹ã‚‰SQLã‚’ç”Ÿæˆã—ã¦ã„ã‚‹é¢ç™½ã„äº‹ä¾‹


### [2023-04-11 LlamaIndexã®æ¤œè¨¼æ©Ÿèƒ½ Responseã¨Sourceã‚’GPT-4ã«è©•ä¾¡ã•ã›ã¦æ­£ã—ã„ã‹ã‚’åˆ¤æ–­ã™ã‚‹](https://twitter.com/jerryjliu0/status/1645451897372024832)

- ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ä¾‹ã«ã‚ˆã‚Œã°GPT-4ã«æ¤œè¨¼ã•ã›ã¦ã„ã‚‹æ§˜å­ï¼ˆã¤ã¾ã‚ŠGPT-4ã®APIãŒä½¿ãˆãªã„å ´åˆã¯ä½¿ãˆãªã„æ©Ÿèƒ½ï¼‰
  - https://github.com/jerryjliu/llama_index/blob/main/examples/evaluation/TestNYC-Evaluation-Query.ipynb

### [2023-04-12 LlamaIndexã§Pinconeã‚’ä½¿ã£ã¦ç–ã¨å¯†ã®ãƒã‚¤ãƒ–ãƒªãƒƒãƒˆãªæ¤œç´¢ã‚’è©¦ã™](https://note.com/npaka/n/n63afe0e6684a)

- devioã®è¨˜äº‹ã¨ç–å¯†ã®æ„å‘³ãŒå°‘ã—é•ã„ãã†ï¼Ÿè¦ç¢ºèªã€‚

### [2023-04-17 llama_indexã®å…¬å¼ãŒã‚½ãƒ¼ã‚¹ã«ã‚¯ã‚¨ãƒªã®ç­”ãˆãŒå«ã¾ã‚Œã¦ã„ã‚‹ã‹ã‚’è©•ä¾¡ã™ã‚‹æ–¹æ³•ã‚’ç´¹ä»‹](https://twitter.com/jerryjliu0/status/1647626532519841793)

- ãã‚Œãã‚Œã®ã‚½ãƒ¼ã‚¹ã¨ã‚¯ã‚¨ãƒªã‚’å…¥åŠ›ã¨ã—ã¦ã€å«ã¾ã‚Œã‚‹ã‹ã©ã†ã‹ã‚’Yes,Noã§ç­”ãˆã•ã›ã‚‹ã“ã¨ã«ã‚ˆã‚Šå®Ÿç¾

### [2023-04-17 llama_indexã®å…¬å¼ãŒå˜ä¸€ã®ãƒ«ãƒ¼ã‚¿ã‚’ä½¿ã£ã¦ä½¿ç”¨ã™ã‚‹Indexã‚’è¤‡æ•°ã®ä¸­ã‹ã‚‰é¸æŠã™ã‚‹ä¾‹ã®ç´¹ä»‹](https://twitter.com/gpt_index/status/1647625929165008897)

### [2023-04-19 llama-indexãŒGoogleæ¤œç´¢ãªã©ã®æ¤œç´¢æ©Ÿèƒ½ã‚’è¿½åŠ ](https://twitter.com/jerryjliu0/status/1648347966615465984)

- ä»¥ä¸‹ãŒæŒ™ã’ã‚‰ã‚Œã¦ã„ã‚‹
  - ğŸ“ Note-taking capabilities
  - ğŸŒ Web Page search
  - ğŸ” @google search capabilities

- LangChainã¨åŒã˜ã‚ˆã†ãªã‚¢ã‚¤ãƒ‡ã‚£ã‚¢ã§ã€å¤šåˆ†å„ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®èª¬æ˜æ–‡ã¨ã‚¯ã‚¨ãƒªã®æ¯”è¼ƒã«ã‚ˆã‚Šåˆ¤æ–­ã™ã‚‹ã‚‚ã®ã‹ã¨

### [2023-04-29 LlamaIndex 0.6.0 - ãƒ‡ãƒ¼ã‚¿ã«å¯¾ã™ã‚‹æ–°ã—ã„ã‚¯ã‚¨ãƒªã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ï½œnpakaï½œnote](https://note.com/npaka/n/n4254fc549dc0)

- å¤§ãã‚ã®å¤‰æ›´ãŒåŠ ãˆã‚‰ã‚Œã¦ãŠã‚Šã€APIãŒæ•´ç†ã•ã‚Œã¦ã„ã‚‹
- queryãªã©ã®ä½¿ã„æ–¹ã®é•ã„ã€indexã¯ãƒ“ãƒ¥ãƒ¼ã«éããªã„ç‚¹ãªã©ãŒç‰¹å¾´ã‹
- ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆã‚¬ã‚¤ãƒ‰ã®ç¶šç·¨
  - [LlamaIndex ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆã‚¬ã‚¤ãƒ‰ - v0.6.0ï½œnpakaï½œnote](https://note.com/npaka/n/n50475d6c3118)

### [2023-05-02 LlamaIndexã®ãƒ‡ãƒãƒƒã‚°æ©Ÿèƒ½ã®CallbackManagerã¨LlamaDebugHandlerã®è¿½åŠ ](https://twitter.com/gpt_index/status/1653407672602071040?s=12&t=0nszgXsDXAd-L4WiCutIWg)

### [2023-05-16 LlamaIndex 0.6.8ã®ç´¹ä»‹](https://twitter.com/gpt_index/status/1658481782923362306)

- PDFã®å‡ºå…¸å…ƒã‚’å¾—ã‚‰ã‚Œã‚‹ã‚ˆã†ã«
  - SimpleDirectoryReaderã§pdfã‚’èª­ã¿è¾¼ã‚€ã¨è‡ªå‹•ã§nodeã®extra_infoã«page_labelãŒä»˜ä¸
  - [https://github.com/jerryjliu/llama_index/blob/main/docs/examples/citation/pdf_page_reference.ipynb](https://github.com/jerryjliu/llama_index/blob/main/docs/examples/citation/pdf_page_reference.ipynb)
- LLM-based Rerankingã§ã‚ˆã‚Šé«˜ç²¾åº¦ãªRetrievalã‚’è¡Œã†
  - stage1ãŒåŸ‹ã‚è¾¼ã¿ãƒ™ã‚¯ãƒˆãƒ«ã€stage2ãŒLLMã‚’ä½¿ã£ãŸRerankingã§é«˜é€Ÿã‹ã¤ç²¾åº¦ã®è‰¯ã„NodeæŠ½å‡ºã‚’è¡Œãˆã‚‹
  - [https://twitter.com/jerryjliu0/status/1657827898517012486](https://twitter.com/jerryjliu0/status/1657827898517012486)
- å¤–éƒ¨ã«ãƒ‡ãƒ¼ã‚¿ã‚’é€ä¿¡ã—ãªã„ã€Œãƒ­ãƒ¼ã‚«ãƒ«ã‚ªãƒ³ãƒªãƒ¼ã€ãƒ¢ãƒ¼ãƒ‰ã§ä½¿ç”¨ã™ã‚‹ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚’è¿½åŠ 
  - [https://twitter.com/jerryjliu0/status/1658119334080724993](https://twitter.com/jerryjliu0/status/1658119334080724993)
  - LLMã¯GPT4ALLã€åŸ‹ã‚è¾¼ã¿ã«ã¯sentence-transformersã‚’ä½¿ç”¨ã™ã‚‹ä¾‹ã¨ãªã£ã¦ã„ã‚‹

### [2023-05-20 LlamaIndex 0.6.9](https://twitter.com/gpt_index/status/1659593915903926277)

- Fsspecã‚’ã‚µãƒãƒ¼ãƒˆ
  - vector_store/doc_storeå†…ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ã€fsspecãŒã‚µãƒãƒ¼ãƒˆã™ã‚‹ã‚ã‚‰ã‚†ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«æ°¸ç¶šåŒ–ãŒå¯èƒ½ã«
  - S3, GCS, Azure blobãã®ä»–ãŒå«ã¾ã‚Œã‚‹
- S3KVStore
  - S3ã‚’ãƒã‚¤ãƒ†ã‚£ãƒ–ãªKey-Valueã‚¹ãƒˆã‚¢ã¨ã—ã¦ã‚µãƒãƒ¼ãƒˆã™ã‚‹ã‚ˆã†ã«
  - S3DBKVStoreã¨ã„ã†åå‰ã§doc_storeã¨index_storeã«å¯¾å¿œ
  - BaseKVStoreã¯ã“ã‚Œã§MongoDBS3ãŒå¯¾å¿œã—ã€KVStoreã§ä½¿ãˆã‚‹ã‚ˆã†ã«ãªã‚‹ã¯ãš
  - ã‚ã¾ã‚Šãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã¯è¨˜è¼‰ã•ã‚Œã¦ã„ãªã„
- ResponseBuilderã«AccumulatorãŒè¿½åŠ 
  - ResponseMode.ACCUMULATEãŒå¢—ãˆã¦ã„ã‚‹
  - å„ãƒãƒ¼ãƒ‰ã«å‡ç­‰ã«ã‚¯ã‚¨ãƒªã—çµæœã‚’é€£çµã™ã‚‹ã‚‰ã—ã„ã€‚
  - ã¨ã‚‚ãªã£ã¦è¨­è¨ˆçš„ã«BaseResponseBuilderãŒç”Ÿãˆã¦ãŠã‚Šã€æŠ½è±¡åŒ–ãŒé€²ã‚“ã 
- SubQuestionQueryEngineãŒè¿½åŠ 
  - è¤‡é›‘ãªã‚¯ã‚¨ãƒªï¼ˆä¾‹ï¼šæ¯”è¼ƒå¯¾ç…§ï¼‰ã‚’å¤šãã®ã‚µãƒ–ã‚¯ã‚¨ãƒªã«åˆ†è§£ã—ã¦å®Ÿè¡Œã™ã‚‹ã‚¯ã‚¨ãƒªã‚¨ãƒ³ã‚¸ãƒ³

### [2023-05-24 LlamaIndex 0.6.10](https://github.com/jerryjliu/llama_index/compare/v0.6.9...v0.6.10)

- ä½™ã‚Šå¤‰æ›´ç‚¹ã¯å¤šããªã•ãã†
- PDFReaderã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã«page_labelã«åŠ ãˆã¦ã€file_nameãŒè¿½åŠ ã•ã‚Œã¦ã„ã‚‹

### [2023-05-26 LlamaIndex 0.6.11](https://github.com/jerryjliu/llama_index/compare/v0.6.10.post1...v0.6.11)

- vellum_aiã¨ã®ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
  - ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—/ãƒ‡ãƒ—ãƒ­ã‚¤/ç›£è¦–ã™ã‚‹
- BaseCallbackHandlerã«start_traceã¨end_traceãŒè¿½åŠ 
  - ã¨ã‚‚ãªã£ã¦LlamaDebugHandlerã«ã‚‚ã„ãã¤ã‹ä¿®æ­£ãŒå…¥ã£ã¦ã„ã‚‹
- DynamoDBã®ã‚¹ãƒˆã‚¢ãŒè¿½åŠ 
  - index_store, doc_store, vectore_storeã«ã‚‚å¯¾å¿œã—ã¦ã„ã‚‹

### [2023-05-28 LlamaIndex 0.6.12](https://github.com/jerryjliu/llama_index/compare/v0.6.11...v0.6.12)

- ResponseMode.COMPACT_ACCUMULATEãŒè¿½åŠ 
  - COMPACTãŒãƒãƒ£ãƒ³ã‚¯å†çµ±åˆãªã®ã§ã‚ˆã‚ŠåŠ¹ç‡çš„ã«å‹•ä½œã™ã‚‹
- ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆé–¢é€£ã®å‡¦ç†ãŒPromptTypeã¨ã„ã†APIã§å†æ§‹æˆã•ã‚Œã¦ã„ã‚‹
  - https://github.com/jerryjliu/llama_index/blob/v0.6.12/llama_index/prompts/prompt_type.py


### [2023-05-28 LlamaIndex 0.6.13](https://github.com/jerryjliu/llama_index/compare/v0.6.12...v0.6.13)

- [Graphsignal](https://graphsignal.com/)ã¨ã®é€£æº
  - AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚„LLMã‚’æ­è¼‰ã—ãŸã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«è¦³æ¸¬æ€§ã‚’æä¾›
- SQLAutoVectorQueryEngineã®è¿½åŠ 

### [2023-05-30 LlamaIndex 0.6.14](https://github.com/jerryjliu/llama_index/compare/v0.6.13...v0.6.14)

- ChatEngineãªã‚‹æ–°ã—ã„ã‚¨ãƒ³ã‚¸ãƒ³ãŒè¿½åŠ 
  - ç¨®é¡ã¨ã—ã¦ã¯SimpleChatEngineã€ReActChatEngineã€CondenseQuestionChatEngine
  - as_chat_engineã§ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ–ã—ã€åˆ‡ã‚Šæ›¿ãˆã¯ChatModeã§å®Ÿæ–½ã§ãã‚‹ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯CondenseQuestionChatEngineã€‚
- å†…éƒ¨çš„ã«global_service_contextãŒã§ãã¦ã„ã‚‹ã€‚ç”¨é€”ã¯ä¸æ˜ã€‚
- PromptTypeã«CONVERSATIONã€DECOMPOSEã€CHOICE_SELECTãŒè¿½åŠ 

### [2023-05-31 LlamaIndex 0.6.15](https://github.com/jerryjliu/llama_index/compare/v0.6.14...v0.6.15)

- Agentã«é–¢ã™ã‚‹ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ãŒè¿½åŠ ã•ã‚ŒãŸã®ã¿
  - [docs/use_cases/agents.md](docs/use_cases/agents.md)

### [2023-06-01 LlamaIndex 0.6.16](https://github.com/jerryjliu/llama_index/compare/v0.6.15...v0.6.16.post1)

- å¼•æ•°ãªã©ä½¿ã„æ–¹ã«å½±éŸ¿ã®ã‚ã‚‹åå‰å¤‰æ›´ã‚ã‚Š
  - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå®šæ•°ã«ä¸€éƒ¨å¤‰æ›´æœ‰ã€‚ã“ã‚Œã«å¿œã˜ã¦å¼•æ•°ãŒå¤‰ã‚ã‚‹ã®ã§è¦æ³¨æ„ã€‚
    - NodeParserå´
      - DEFAULT_CHUNK_OVERLAPãŒ200ã‹ã‚‰20ã«ã€‚ã“ã‚Œã¯è¦æ³¨æ„ã€‚
      - DEFAULT_CHUNK_SIZEã¯ãã®ã¾ã¾ã€‚
      - chunk_size_limitã‚‚chunck_sizeã«å¤‰ã‚ã£ã¦ã„ã‚‹
    - PromptHelperå´
      - MAX_CHUNK_OVERLAPãŒæ¶ˆæ»…ã€‚max_chunk_overlapãŒéæ¨å¥¨ã¨ãªã‚Šä»£ã‚ã‚Šã«chunk_overlap_ratioã‚’ä½¿ç”¨ã™ã‚‹ã‚ˆã†ã«ãªã£ãŸå½±éŸ¿
      - DEFAULT_CHUNK_OVERLAP_RATIOã¯0.1ã¨ãªã£ã¦ã„ã‚‹
      - MAX_CHUNK_SIZEãŒDEFAULT_CONTEXT_WINDOWã«åå‰å¤‰æ›´
      - NUM_OUTPUTSãŒDEFAULT_NUM_OUTPUTSã«åå‰å¤‰æ›´
  - å„ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢ã®to_dictãŒãªããªã‚Što_jsonã«å¤‰æ›´
- RetryQueryEngineãŒè¿½åŠ 
  - å†…éƒ¨ã§FeedbackQueryTransformationã‚’ä½¿ã†
  - FeedbackQueryTransformationãŒè¿½åŠ 
    - Evaluatorã®çµæœã‚’ä½¿ã£ã¦ã‚¯ã‚¨ãƒªã«ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãŒå¯èƒ½ã«ã€‚ã“ã‚ŒãŒEvaluatorã‚’æŠ½è±¡å‹ã«ã—ãŸèƒŒæ™¯ã£ã½ã„ã€‚
  - BaseEvaluatorã¨ã„ã†æ–°ã—ã„æŠ½è±¡å‹ã§è©•ä¾¡ç³»ãŒå®Ÿè£…
    - ã‚‚ã¨ã‚‚ã¨QueryResponseEvaluatorãŒã‚ã£ãŸãŒEvaluatorãŒæŠ½è±¡å‹ã®è¦ªã‚¯ãƒ©ã‚¹ã‚’æŒã¤ã‚ˆã†ã«å¤‰æ›´ã•ã‚Œã¦ã„ã‚‹
- PromptHelperã®ä¿®æ­£
  - compact_text_chunksãŒrepackã¨ã„ã†åå‰ã«ä»£ã‚ã£ã¦ã„ã‚‹
  - truncateã¨ã„ã†è¤‡æ•°ãƒãƒ¼ãƒ‰ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’ã¤ãªã’ã‚‹å‡¦ç†ãŒè¿½åŠ 
  - chunk_overlap_ratioãŒæŒ‡å®šã§ãã‚‹ã‚ˆã†ã«
- PsychicReaderãŒè¿½åŠ 
  - Psychicã¯å¤šãã®SaaSã‚¢ãƒ—ãƒªã®ãƒ‡ãƒ¼ã‚¿ã‚’1ã¤ã®ãƒ¦ãƒ‹ãƒãƒ¼ã‚µãƒ«APIã§åŒæœŸã•ã›ã‚‹ã“ã¨ãŒã§ãã‚‹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ 

### [2023-06-01 LlamaIndex 0.6.16.post1](https://github.com/jerryjliu/llama_index/compare/v0.6.16...v0.6.16.post1)

- SubQuestionQueryEngineã®ãƒ‘ãƒƒãƒ

### [2023-06-03 LlamaIndex 0.6.17](https://github.com/jerryjliu/llama_index/compare/v0.6.16.post1...v0.6.17)

- Nodeã®å‰Šé™¤ç³»æ“ä½œã«ã¤ã„ã¦è¦‹ç›´ã—ãŒå…¥ã£ã¦ã„ã‚‹
- RefDocInfoã«APIãŒã„ãã¤ã‹è¿½åŠ 

### [2023-06-03 LlamaIndex 0.6.18](https://github.com/jerryjliu/llama_index/compare/v0.6.17...v0.6.18)

- Vector Storeã«MyScaleVectorStoreã¨SupabaseVectorStoreãŒè¿½åŠ 
- FunctionToolã€BaseToolSpecã®å…·è±¡åŒ–ã‚¯ãƒ©ã‚¹NotionToolSpecã€TestToolSpecãŒè¿½åŠ ã€‚ç”¨é€”ã¯ã‚ã¾ã‚Šã‚ã‹ã£ã¦ãªã„
